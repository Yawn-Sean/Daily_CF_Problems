**提示 1：** 考虑去掉桥边之后我们要构造什么。什么情况下一定无法构造？

**提示 2：** 我们看第一层，目前还要多少条边？如果要比较 “均衡” 地构造，应该怎么来？

我们假设找到了一条桥边，去掉它，则会产生两个连通块。这两个连通块应该满足什么要求呢？

除了一个点的度数是 $k-1$ 外，其他点的度数都是 $k$ 。

而由于所有点的度数和等于边数的两倍，因此这些度数和一定是偶数。（一条边对应两个度数）

于是 $k$ 是偶数时，一定无法给出合法的构造。

接下来考虑 $k$ 是奇数。

我们从度数是 $k-1$ 的点出发，先连出来 $k-1$ 个点。

这 $k-1$ 个点还要连出 $k-1$ 条边，怎么办呢？

为了满足这 $k-1$ 个点地位的等价性，可以这么考虑：

- 这 $k-1$ 个点两两连边。这样最后刚好每个点剩下一条边要连。如果这些边都连向外面的一个点，则那个点的剩余度数是 $1$ ，那个点再连出一条新边，则这个新的点的剩余度数是 $k-1$ 。又回到了最初的起点，所以这样的构造没有意义。

- 于是我们让 $k-1$ 个点两两不连边。为了轻松满足这 $k-1$ 个点地位等价，我们在外面再找 $k-1$ 个点，使得外面的 $k-1$ 个点跟目前的 $k-1$ 个点两两连边。这样外面的 $k-1$ 个点度数都恰好差 $1$ 。而 $k-1$ 是偶数，因此这些点可以两两配对进行连边。

综上，第二种思路给了我们正确的构造。连的边是 $\mathcal{O}(k^2)$ 量级的，符合题意且时间复杂度也如此。

### 具体代码如下——

Python 做法如下——

```Python []
def main():
    k = II()

    if k % 2 == 0: print('NO')
    else:
        outs = []
        for i in range(k - 1):
            
            for j in range(k - 1):
                outs.append(f'{i + 1} {j + k}')
                outs.append(f'{i + 2 * k - 1} {j + 3 * k - 2}')
            
            if i % 2 == 0:
                outs.append(f'{i + 1} {i + 2}')
                outs.append(f'{i + 2 * k - 1} {i + 2 * k}')
            
            outs.append(f'{i + k} {4 * k - 3}')
            outs.append(f'{i + 3 * k - 2} {4 * k - 2}')
        
        outs.append(f'{4 * k - 3} {4 * k - 2}')
        
        print('YES')
        print(4 * k - 2, len(outs))
        print('\n'.join(outs))
```

C++ 做法如下——

```cpp []
signed main()
{
    ios_base::sync_with_stdio(false);
    cin.tie(0);
    cout.tie(0);

    int k;
    cin >> k;

    if (k & 1) {
        cout << "YES\n";
        cout << 4 * k - 2 << ' ' << (2 * k - 1) * k << '\n';

        for (int i = 0; i < k - 1; i ++) {
            for (int j = 0; j < k - 1; j ++) {
                cout << i + 1 << ' ' << j + k << '\n';
                cout << i + 2 * k - 1 << ' ' << j + 3 * k - 2 << '\n';
            }

            if (i & 1) {
                cout << i << ' ' << i + 1 << '\n';
                cout << i + 2 * k - 2 << ' ' << i + 2 * k - 1 << '\n';
            }

            cout << i + k << ' ' << 4 * k - 3 << '\n';
            cout << i + 3 * k - 2 << ' ' << 4 * k - 2 << '\n';
        }

        cout << 4 * k - 3 << ' ' << 4 * k - 2 << '\n';
    }
    else cout << "NO";

    return 0;
}
``` 
