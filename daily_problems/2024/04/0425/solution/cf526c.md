**提示 1：** 考虑两类糖果的替代关系，如何发生不产生多余重量 / 减少重量的替代。

**提示 2：** 根据上述替代关系，把性价比低的糖果换成性价比高的糖果，何时无法进行？

**提示 3：** 在上述替换中，性价比低的糖果最多有多少颗？如果还有很多，意味着什么？

首先，因为红色糖果重量为 $W_r$ ，而蓝色糖果重量为 $W_b$ ，因此 $W_b$ 个红色糖果跟 $W_r$ 个蓝色糖果总重量一样。我们有不少于 $W_b$ 个红色糖果的时候可以顺序替代，有不少于 $W_r$ 个蓝色糖果的时候可以反向替代。

取这两组中带来快乐更低的，不妨设是红色，我们一定会 **尽可能进行上述的顺序替代，直至红色糖果的数量小于 $W_b$** 。

而如果 $W_b$ 已经不超过 $\sqrt{C}$ ，则我们从 $0$ 到 $\sqrt{C}$ 枚举红色糖果的数量即可。

如果 $W_b$ 超过了 $\sqrt{C}$ 呢？那么蓝色糖果的数量不会超过 $\frac{C}{\sqrt{C}}$ ，因此可以 **从 $0$ 到 $\sqrt{C}$ 枚举蓝色糖果的数量** 。

而如果是蓝色的糖果性价比低，分析也是类似的。我们总结上述逻辑，**总有一类糖果取的次数是不超过 $\sqrt{C}$ 的**，因此我们无需讨论，直接枚举是哪类糖果，以及其取的次数即可。

时间复杂度为 $\mathcal{O}(\sqrt{C})$

#### 具体代码如下（只包含中间处理部分）——

```Python []
def main():
    c, hr, hb, wr, wb = MII()
    ans = 0

    for i in range(10 ** 5):
        if wr * i > c: break
        ans = max(ans, i * hr + (c - i * wr) // wb * hb)

    for i in range(10 ** 5):
        if wb * i > c: break
        ans = max(ans, i * hb + (c - i * wb) // wr * hr)

    print(ans)
```
