**提示 1：** 我们要让点权除以边权的数值尽可能大，看样例，猜一猜。

**提示 2：** 思考如何证明你给出的结论。提示：从某一个你选取的子图出发，看能否构造权值更大的子图。

首先，在只取一个点的情况下，答案为 $0$ ，接下来考虑至少取两个点。

假设最后的答案至少包含三个点。

首先，我们假设这个图是一棵树，虽然一棵树不一定满足题目要求，但其权值一定比原图大，因为点权不变，边权变小。

接下来，取这棵树的其中一个叶子节点连的边。则我们考虑这条边构成的子图与剩下的树构成的子图。其总点权增加，但总边权不变。因此一定有一个子图比原来的树点权和边权的比值更大。

于是，我们可以不断进行上述操作，直至这棵树只剩下一条边，而剩下的一条边是满足条件的子图。于是，我们可以得到，任意一个大小大于 $3$ 的子图一定无法取到最优解，只需枚举每一个大小为 $2$ 的子图即可。

因此遍历每一条边，计算对应权值即可。

时间复杂度为 $\mathcal{O}(m)$ .

#### 具体代码如下（只包含中间处理部分）——

```Python []
def main():
    n, m = MII()
    nums = [0] + LII()
    ans = 0
    for _ in range(m):
        u, v, w = MII()
        ans = max(ans, (nums[u] + nums[v]) / w)
    print(ans)
```
