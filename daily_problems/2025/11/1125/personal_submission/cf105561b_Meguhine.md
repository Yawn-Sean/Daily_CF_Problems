假设 $A$ 是输入的集合，里面的元素是 $a_i$

如果一次询问是 $1$，直接输出 **YES**

否则假设询问的是 $x_q$，我们将其质因数分解成 $p_1^{k_1}p_2^{k_2}\cdots p_m^{k_m}$，其中 $k_1\ge k_2\ge\cdots\ge k_m$

令 $x:=p_1p_2\cdots p_m$，令 $A_x=\{x\vert a_i,\,a_i\in A\}$

- 如果 $A_x$ 为空集，显然输出 **NO**
- 否则取 $A_x$ 里最小的元素 $x_0$，在**最后一步**将他放在最前面的位置，在**其他步**不把他放在最后的位置

$\lceil\log_2(10^6)\rceil=20$，所以只要最终 $x_0$ 的幂次 $\ge20$，就一定可行

设有 **m** 个数 $>1$，则有 **n-m** 个数为 1，进行分类讨论：

- $m>=4$，我们有：
  $$
  \begin{array}{}
  x_0 & 2 & 2 & 2\\
  x_0^2 & 4 & 4 \\
  x_0^8 & 256 \\
  x_0^{2048}
  \end{array}
  $$
  
  所以这时候一定可行
  
- $m=3$

  - $n-m>=1$，此时有：
    $$
    \begin{array}{}
    x_0 & 2 & 2 & 1\\
    x_0^2 & 4 & 2 \\
    x_0^8 & 16 \\
    x_0^{128}
    \end{array}
    $$
    也一定可行

  - $n-m=0$，只有 **3** 个数？？**暴力枚举**！！！

- $m=2$

  - $\lceil\log_2(20)\rceil=5$，即当 $n-m\ge 5$ 时，一定可行
  - 否则**暴力枚举**

- $m=1$

  - 脚指头都知道怎么做


综上，判掉一些情况，剩下的暴力枚举即可。

~~不过还是挺难写的感觉~~
