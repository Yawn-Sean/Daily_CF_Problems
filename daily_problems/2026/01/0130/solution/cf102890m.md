**提示 1：** 一位一位确定答案。

考虑贪心，假设剩下了 $x$ 个位，还要删掉一些数码。

如果我们下一位取的是数字 $v$ ，则最多只能保留 $v$ 及其后面的各个数字。同时，“删去数码” 的条件需要保留的数字个数大于等于把该删的数码全删掉的情况下剩余的数码。

除此之外，如果某个数码不能留下的话，应该退出枚举该数码。

所以我们要维护——某个数码下一次出现的位置，后缀中每个字符出现次数。这两个都很容易预处理。

时间复杂度为 $\mathcal{O}(n|\Sigma|^2)$ 。

### 具体代码如下——

Python 做法如下——

```Python []
def main(): 
    s = [int(c) - 1 for c in I()]
    cnt = LII()
    
    n = len(s)
    acc = [[0] * (n + 1) for _ in range(9)]
    next_pos = [[n] * (n + 1) for _ in range(9)]
    
    for i in range(n - 1, -1, -1):
        for j in range(9):
            next_pos[j][i] = next_pos[j][i + 1]
            acc[j][i] = acc[j][i + 1]
        next_pos[s[i]][i] = i
        acc[s[i]][i] += 1
    
    for i in range(n):
        cnt[s[i]] -= 1
    
    for i in range(9):
        cnt[i] = -cnt[i]
    
    ans = []
    total = sum(cnt)
    
    pt = 0
    for _ in range(total):
        for i in range(8, -1, -1):
            npt = next_pos[i][pt]
            flg = True
            
            for j in range(9):
                if acc[j][npt] < cnt[j]:
                    flg = False
            
            if flg and cnt[i]:
                ans.append(i + 1)
                cnt[i] -= 1
                pt = npt + 1
                break
    
    print(''.join(map(str, ans)))
```

C++ 做法如下——

```cpp []
int main() {
	ios_base::sync_with_stdio(false);
	cin.tie(0);
	cout.tie(0);

	string s;
	cin >> s;

	vector<int> cnt(10);
	for (int i = 1; i < 10; i ++) cin >> cnt[i];

	int n = s.size();

	vector<vector<int>> acc(10, vector<int>(n + 1, 0)), next_pos(10, vector<int>(n + 1, n));

	for (int i = n - 1; i >= 0; i --) {
		for (int j = 0; j < 10; j ++) {
			next_pos[j][i] = next_pos[j][i + 1];
			acc[j][i] = acc[j][i + 1];
		}
		next_pos[s[i] - '0'][i] = i;
		acc[s[i] - '0'][i] ++;
	}

	for (auto &c: s) cnt[c - '0'] --;

	int total = 0;
	for (int i = 0; i < 10; i ++) {
		cnt[i] = -cnt[i];
		total += cnt[i];
	}

	int pt = 0;
	while (total --) {
		for (int i = 9; i > 0; i --) {
			int npt = next_pos[i][pt];
			bool flg = true;

			for (int j = 0; j < 9; j ++) {
				if (acc[j][npt] < cnt[j]) {
					flg = false;
				}
			}

			if (flg && cnt[i]) {
				cout << i;
				cnt[i] --;
				pt = npt + 1;
				break;
			}
		}
	}

	return 0;
}
```
