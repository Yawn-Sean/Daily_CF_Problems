考虑每一个合法的排列 $P$  所构成的$\{A_{p_i}\}$ 数组，肯定是 01 交替的，并且 0 在偶数的位置，1 在奇数的位置

那么从后往前遍历 $A$

- 遇到 0，可以插在任意的不与 1 相邻的位置（否则不满足偶数位置的数大于奇数位置的数这个限制）
- 遇到 1，可以插在任意的不与 1 相邻的位置（不然不满足奇偶性要求）
  - 当然还有特殊要求，当排列长度 $n$ 为偶数时，需要保证一开始的数是 1，此时不妨强制不让 1 插到最末尾

所以维护当前不与 1 相邻的位置的个数 $mul$

- 遇到 0，$ans\leftarrow ans*mul,\,mul\leftarrow mul+1$
- 遇到 1，$ans\leftarrow ans*(mul-[n\equiv0\,(\text{mod 2})]),\,mul\leftarrow mul-1$，其中 $[n\equiv0\,(\text{mod 2})]$ 是对偶数情况的限制
