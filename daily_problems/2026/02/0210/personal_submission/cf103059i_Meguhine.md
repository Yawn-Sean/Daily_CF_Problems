另一种分析是否有解的过程：

因为，

$$
\prod_{x=1}^{n}x\equiv0\pmod{n}
$$

所以必然有 $0$ 出现，而 $0$ 必须放在末尾（因为 $0$ 后面的数都会变成 $0$），因此 $n$ 必须放在末尾

现在考虑 $\prod_{x=1}^{n-1}x\pmod{n}$：

- $n$ 是合数
  - $n=a*b$ 且 $a\ne b$，不妨设 $1<a<b<n$，则 $1\sim (n-1)$ 包含了 $a,b$ 这两个数，则 $\prod_{x=1}^{n-1}x\equiv0\pmod{n}$，产生冲突，无解
  - 否则 $n=p^2$，此时当 $2p\ge n$ 时才不会发生冲突，解方程得 $p=2$，即 $n=4$ 。手玩发现 $(1,3,2,4)$ 合法
- $n$ 是质数，由威尔逊定理得 $\prod_{x=1}^{n-1}x\equiv-1\pmod{n}$，按照小羊的构造方法来即可
